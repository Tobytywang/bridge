# bridge
基于Android的Surfaceview组件实现的桥牌游戏，有机-机、人-机、人-人（WiFi）等三种游戏模式。

## 1 功能介绍

### 1.1 游戏流程描述（预期达到的流程）
- []开始后在界面上显示准备按钮
- []所有玩家就绪后，游戏开始
- []发牌动画，显示提示信息
- [*]显示叫牌界面
- []叫牌结束后，提示信息位置显示提示信息
- []首家攻牌后，显示明手
- []打牌结束后，显示结算画面
- []打牌结束后，重新显示准备按钮，进入下一局

### 1.2 其他游戏设定
- 竖屏显示，在上方设置区域显示额外内容（叫牌提示，赢墩等信息）
- 用户不显示头像
- 叫牌结束后用户不更换座位（只针对人-机游戏模式）

## 2 代码介绍
### 2.1 各部分代码的功能
- engine:这部分是对游戏底层实现的一个抽象，将SurfaceView和SurfaceView的更新线程做了封装
  - game:这是基于SurfaceView更新机制制作的一个简单demo，可以用自己的游戏类继承并重写这个类的函数来制作自己的游戏
  - view/thread:分别对应SurfaceView和SurfaceView的更新线程SurfaceThread
  - util:包含一个用户计算触摸范围的辅助类
- game:这部分是游戏业务的实现代码，继承自engine/game类
  - main:包含Game(游戏主类），Call（负责叫牌的类），Table（负责出牌的类）等公共类
  - player:主要包含参与游戏的三类不同的游戏角色Player,Robot,RemotePlayer和它们的父类AbstractPlayer
  - res:用于加载绘图资源的辅助类

## 3 开发纪要
### 游戏引擎要解决的问题有
- 如何隐藏底层实现，简化业务逻辑
- 如何分离触摸事件和绘图事件
- 只提供了GameView，是否要提供View接口

### 游戏业务要解决的问题
- 解决对不同屏幕的适配（18：27）（已解决）
- 解决玩家位置分配问题（未解决）
- 解决远程玩家链接和不同类型玩家的抽象（未解决）
- 解决Robot叫牌问题

### TODO
- []修改Call显示和触摸逻辑（什么意思）
- []增加一个提示调整座位的提示(不做了）
- [*]Call需要给出庄家和定约，方便之后出牌
- []让叫牌的显示更加流畅
- []解决出第四张牌时不显示的问题
- []解决人机模式下出牌事件不一致的问题
